/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   ft_is_prime.c                                      :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: yufli <yufli@student.42barcelona.com>      +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2025/11/17 14:14:24 by yufli             #+#    #+#             */
/*   Updated: 2025/11/17 14:27:12 by yufli            ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

/* 因子成对出现（成对结构）
 * 拿一个数字 nb（假设 nb = 36）
 * 它的因子对是：
 * 1 × 36
 * 2 × 18
 * 3 × 12
 * 4 × 9
 * 6 × 6    ← √36
 * 注意这一句：
 * 在 sqrt(nb) 以下的因子，都有一个对应的“超过 sqrt(nb)”的因子。 反过来也一样。
 * 也就是说：
 * 你找 2，就发现 18
 * 你找 3，就发现 12
 * 你找 4，就发现 9
 * ……
 * 一旦找到一个因子，小的那个一定在 sqrt(nb) 之前。
 * 所以：
 * 如果在 2～sqrt(nb) 范围内没有因子，那么 nb 一定是质数。
 * 原因是：
 * 如果有因子，那么“一大一小”会成对出现
 * 小的那个一定小于等于 sqrt(nb)
 * 所以只要小的没找到，整个 pair 就不存在 */

/* 如果小因子存在，那大因子就肯定存在，nb 就不是质数。 如果小因子不存在，那么大因子也不可能存在。
 * 小因子（例如 7）出现时，一定有一个大因子：
 * nb = 7 * 13
 * 而关键是：
 * 7 < √91 ≈ 9.54
 * 13 > √91
 * 这就是“左右对称结构”：
 * 小因子（<= sqrt）
 * 大因子（>= sqrt）
 * 所以：
 * 只要找小因子就能发现大因子
 * 找不到小因子，就不会有大因子
 * 因为成对存在，没有单独存在的大因子
 * 这就是我们只需要检查直到 √n 的数学理由。
 *
 * 用两句话把它刻进脑子里
 * ① 因子总是成对出现（a × b = n）。
 * ② 小的那一个永远 ≤ √n。
 * 因此：
 * 只要前半区（到 sqrt）没有因子，后半区一定也不会有。
 */

int	ft_is_prime(int nb)
{
	int	i;

	if (nb <= 1)
		return (0);
	i = 2;
	while (i <= ft_sqrt(nb))
	{
		if (nb % i == 0)
			return (0);
		i++;
	}
	return (1);
}

/* 为什么从 2 开始
 * 为什么停在 sqrt(nb)
 * 为什么找到一个小因子就能提前停止
 * ✔ 因为因子成对出现，小因子一定 ≤ √n
 * ✔ 所以只要检查小因子就足够
 * ✔ 找不到小因子就一定没有大因子（因此是质数）*/

